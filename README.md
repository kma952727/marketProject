# marketProject

### 연락처

1.메일 : kangmins9527@gmail.com  
2.블로그 : https://dogg.tistory.com

### 개요
1.인원 : 1명

2.기간 : 07/29 - 09/02 (유지보수, 기능 추가 09/02 ~)

3.소개 : 스프링프레임워크를 이용한 판매사이트의 대략적인 기능구현
  
4.목표 : 스프링프레임워크, 스프링시큐리티, 마이바티스를 사용하여 개발부터 배포까지의 과정을 경험하며  
스프링의 동작방식, 쿼리문, 웹에 대하여 중점적으로 학습 

--------------

### 기술 및 환경 
 - OS : mac os(big sur)  
 - Server : tomcat9  
 - DB : mysql8(8.0.26)  
 - Framework : springBoot2.3.2(spring5.2.8), myBatis, bootStrap5  
 - Language : java8
 - Tool : eclipse, mysqlWorkBench, terminal
  
--------------

### 주요 기능
- 스프링 시큐리티를 이용한 로그인, 로그인유지 기능
- 구글 SMTP를 이용한 회원인증
- 조인쿼리 이용해 게시판 구현
- 게시글 좋아요 기능

--------------

### 프로젝트 진행중 어려웠던점
- 여러테이블을 조인하여 데이터를 가져올때 마이바티스를 활용한 맵핑방법
- 프로젝트를 진행하며 DB 정규화의 어려움
- 잘 변하지않는 값을 보내줄때 처리하는 방법(캐시, 쿠키, 세션)
- 스프링프레임워크, 디자인패턴을 활용하여 중복된 코드를 모듈화 시키는 방법

--------------
### 개선하고 싶은 점

- junit을 사용한 테스트기능추가
- mapper에 작성된 쿼리문 수정

--------------
### 이전 프로젝트에서의 개선점
- 컨벤션, 깔끔한 코드 최대한 유지  
- 모든 비즈니스 로직 계층 간 역할 통일감 있게 코드작성  
- git 한브랜치에 모두 작성하지 않고 main, develop, feature, hotfix, refactor 브랜치활용하기 

---------------
### 사이트
  
http://kma95277.cafe24.com/

<img width="800" alt="스크린샷 2021-09-14 오전 10 35 34" src="https://user-images.githubusercontent.com/80996897/133182091-4f88db83-9337-4e55-9cfb-e696324372d2.png">
  
🌻 등록된 상품들을 보여주는 화면입니다. 좌측 카테고리에 해당하는 상품만 볼수도있고
  
상단 검색창을 통해 제품검색을 통하여 볼수도 있습니다.(2개의 테이블 상품 테이블, 상품사진 테이블이 조인 되었습니다.)
  
<img width="800" alt="스크린샷 2021-09-14 오전 10 35 48" src="https://user-images.githubusercontent.com/80996897/133182666-416dae31-0b35-443f-806f-ef1da27fc10d.png">
  
🌻 상품 상세화면 입니다. 구매하기 좋아요 기능이있으며 
  
좋아요는 1인당 한게시물 2회만 가능합니다.
      
(쿼리에서 if기능을 사용하여 좋아요여부에 따라 임의의 문자를 반환해 좋아요 여부를 확인하였습니다.)
  
구매는 수량버튼을 통해서 더많이 구매할수도 있습니다.(자바스크립트를 추가하여서 form을 조작하여습니다.)
  
<img width="800" alt="스크린샷 2021-09-14 오전 10 36 21" src="https://user-images.githubusercontent.com/80996897/133182119-402b6345-2f30-4031-9ebd-3651a8477814.png">
  
🌻 자유게시판 입니다.
  
<img width="800" alt="스크린샷 2021-09-14 오전 10 36 31" src="https://user-images.githubusercontent.com/80996897/133182062-80331d80-de63-4241-aa8d-dfbab51dedd0.png">
  
🌻 일반적인 게시판 상세화면 입니다. 작성자일경우     
  
게시글 수정, 삭제가 가능하며 댓글작성기능이 있습니다.
    
<img width="800" alt="스크린샷 2021-09-14 오전 10 35 15" src="https://user-images.githubusercontent.com/80996897/133182137-cb8985a0-d72e-424a-9124-93567defc66f.png">
  
🌻 로그인 화면 입니다.(스프링 시큐리티를 사용하였습니다.)
  
<img width="800" alt="스크린샷 2021-09-14 오전 11 15 05" src="https://user-images.githubusercontent.com/80996897/133183423-3ac371c3-8353-43b0-84e6-9d5bdcf5570f.png">
  
🌻 회원가입시 검증기능이 있습니다.
  
db에 기록된 아이디, 메일은 중복가입을 할수가 없습니다.
  
패스워드는 bcrypt를 이용해 암호화하여 db에 입력됩니다.
  
<img width="504" alt="스크린샷 2021-09-14 오전 11 22 35" src="https://user-images.githubusercontent.com/80996897/133185496-508a1834-10db-459c-bbc2-0029f9a7a5a2.png">
  
🌻 가입을 하면 작성한 이메일로 확인이메일이 날라옵니다.(현재는 테스트를 위해 무조건 저에게 발송이 됩니다.)
  
가입시 db에 토큰이 입력되며 메일주소로 해당아이디와 db의 토큰값이 파라미터로 첨부되어 발송됩니다.
  
링크 클릭시 해당아이디값과 토큰값이 매칭이되면 이메일검증기록이 db에 입력됩니다.

---------------
### ERD

<img width="792" alt="market_project_ERD" src="https://user-images.githubusercontent.com/80996897/131788732-80134206-e7e0-4497-a734-282abfb3f067.png">

